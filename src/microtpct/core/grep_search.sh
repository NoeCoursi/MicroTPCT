#!/usr/bin/env bash

query_file_fasta="$1"
target_file_fasta="$2"

echo "____________________________________________________________________________________________________________________________"
echo "Matched"
echo "____________________________________________________________________________________________________________________________"

grep -F -o -f "$query_file_fasta" "$target_file_fasta" | LC_ALL=C sort | uniq -c
echo "____________________________________________________________________________________________________________________________"
echo "Non matched"
echo "____________________________________________________________________________________________________________________________"

matched=$(grep -F -o -f "$query_file_fasta" "$target_file_fasta" | sort -u)
grep -F -x -v -f <(echo "$matched") "$query_file_fasta" | grep -v ">" | sort | uniq -c
echo "____________________________________________________________________________________________________________________________"
